"use strict";(self["webpackChunknvs_v4"]=self["webpackChunknvs_v4"]||[]).push([[693],{8148:function(e,t,i){i.r(t),i.d(t,{default:function(){return M}});var s=i(4568),a=i(7179),l=i(3385),n=i(5223),o=i(6072),c=i(4437),d=i(6035),r=i(5408),h=i(9789),u=(i(7658),i(5251)),m=u.Z,p=i(4944),v=i(1050),C=i(6596),A=i(2653),g=m.extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:e=>"boolean"===typeof e||[1e3,1024].includes(e)},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:e=>(0,v.TI)(e).every((e=>null!=e&&"object"===typeof e))}},computed:{classes(){return{...m.options.computed.classes.call(this),"v-file-input":!0}},computedCounterValue(){const e=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,e);const t=this.internalArrayValue.reduce(((e,{size:t=0})=>e+t),0);return this.$vuetify.lang.t(this.counterSizeString,e,(0,v.XE)(t,1024===this.base))},internalArrayValue(){return(0,v.TI)(this.internalValue)},internalValue:{get(){return this.lazyValue},set(e){this.lazyValue=e,this.$emit("change",this.lazyValue)}},isDirty(){return this.internalArrayValue.length>0},isLabelActive(){return this.isDirty},text(){return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map((e=>{const{name:t="",size:i=0}=e,s=this.truncateText(t);return this.showSize?`${s} (${(0,v.XE)(i,1024===this.base)})`:s})):[this.placeholder]},base(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips(){return this.chips||this.smallChips}},watch:{readonly:{handler(e){!0===e&&(0,C.N6)("readonly is not supported on <v-file-input>",this)},immediate:!0},value(e){const t=this.multiple?e:e?[e]:[];(0,v.vZ)(t,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips(){return this.isDirty?this.text.map(((e,t)=>this.$createElement(p.Z,{props:{small:this.smallChips},on:{"click:close":()=>{const e=this.internalValue;e.splice(t,1),this.internalValue=e}}},[e]))):[]},genControl(){const e=m.options.methods.genControl.call(this);return this.hideInput&&(e.data.style=(0,A.y0)(e.data.style,{display:"none"})),e},genInput(){const e=m.options.methods.genInput.call(this);return e.data.attrs.multiple=this.multiple,delete e.data.domProps.value,delete e.data.on.input,e.data.on.change=this.onInput,[this.genSelections(),e]},genPrependSlot(){if(!this.prependIcon)return null;const e=this.genIcon("prepend",(()=>{this.$refs.input.click()}));return this.genSlot("prepend","outer",[e])},genSelectionText(){const e=this.text.length;return e<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,e)]},genSelections(){const e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach(((t,i)=>{this.$scopedSlots.selection&&e.push(this.$scopedSlots.selection({text:this.text[i],file:t,index:i}))})):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot(){const e=m.options.methods.genTextFieldSlot.call(this);return e.data.on={...e.data.on||{},click:e=>{e.target&&"LABEL"===e.target.nodeName||this.$refs.input.click()}},e},onInput(e){const t=[...e.target.files||[]];this.internalValue=this.multiple?t:t[0],this.initialValue=this.internalValue},onKeyDown(e){this.$emit("keydown",e)},truncateText(e){if(e.length<Number(this.truncateLength))return e;const t=Math.floor((Number(this.truncateLength)-1)/2);return`${e.slice(0,t)}…${e.slice(e.length-t)}`}}}),O=i(6904),x=i(5057),I=i(2469),f=i(1495),b=i(1302),N=i(5294),V=i(6883),T=i(4470),L=i(4397),S=i(5234),y=i(5617),D=i(5838),k=i(2370),R=function(){var e=this,t=e._self._c;return"true"===e.logado?t("div",[t("Transition",[e.showPost?t(s.Z,{staticStyle:{position:"absolute","z-index":"10"},attrs:{id:"successPostAlert",dismissible:"",prominent:"",type:"success"}},[e._v(" Cadastro realizado com sucesso! ")]):e._e(),e.showUpdate?t(s.Z,{staticStyle:{position:"absolute","z-index":"10"},attrs:{id:"successUpdateAlert",dismissible:"",prominent:"",type:"success"}},[e._v(" Atualização concluída! ")]):e._e(),e.showError?t(s.Z,{staticStyle:{position:"absolute","z-index":"10",width:"80vw"},attrs:{id:"errorAlert",dismissible:"",prominent:"",type:"error"}},[t("strong",[e._v("Erro desconhecido!")]),e._v(" A página será atualizada. ")]):e._e()],1),t(r.Z,{attrs:{headers:e.headers,items:e.fleet,search:e.search,"footer-props":{itemsPerPageOptions:[10,15,30]},expanded:e.expanded,"item-key":"ID","sort-by":"ID","sort-desc":"","show-expand":"","single-expand":""},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"item.ATIVO",fn:function({item:e}){return[t(T.Z,{attrs:{color:"blue",disabled:"",value:"S"===e.ATIVO}})]}},{key:"top",fn:function(){return[t(D.Z,{attrs:{flat:""}},[t(k.qW,{staticClass:"d-none d-sm-flex font-weight-bold text-sm-h5"},[e._v(" "+e._s(e.razaoSocial)+" ")]),t(S.Z),t(u.Z,{attrs:{color:"blue","append-icon":"mdi-magnify",label:"Procurar","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t(S.Z),t(h.Z,{attrs:{id:"new item section","max-width":"50vw"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t(a.Z,e._g(e._b({staticClass:"mb-2 ms-md-0 ms-5",attrs:{id:"newVehicleBtn",color:"blue",dark:"",sm:"small"},on:{click:function(t){e.greaterVehicleId(),e.setTimeNow(),e.setUser()},focus:function(t){e.showVehicleCloneBtn=!1}}},"v-btn",s,!1),i),[e._v(" Novo Veículo ")])]}}],null,!1,26987809),model:{value:e.vehicleDialog,callback:function(t){e.vehicleDialog=t},expression:"vehicleDialog"}},[t(l.Z,{attrs:{id:"item card"}},[t(O.Z,{ref:"form",staticClass:"form",attrs:{id:"sheetdb-form-v",method:"POST",action:"https://sheetdb.io/api/v1/gy59g6tp4jo4p"},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(n.EB,[t("span",{staticClass:"text-h4 text-md-h3"},[e._v(e._s(e.vehicleFormTitle))])]),t(n.ZB,[t(d.Z,[t(N.Z,[t("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"model",rawName:"v-model",value:e.editedVehicle.ID,expression:"editedVehicle.ID"}],attrs:{id:"ID",type:"text",name:"data[ID]"},domProps:{value:e.editedVehicle.ID},on:{input:function(t){t.target.composing||e.$set(e.editedVehicle,"ID",t.target.value)}}}),t("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"model",rawName:"v-model",value:e.editedVehicle.ATIVO,expression:"editedVehicle.ATIVO"}],attrs:{id:"atiov",type:"text",name:"data[ATIVO]"},domProps:{value:e.editedVehicle.ATIVO},on:{input:function(t){t.target.composing||e.$set(e.editedVehicle,"ATIVO",t.target.value)}}}),t(c.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[t(f.Z,{staticClass:"d-flex",attrs:{"min-width":"auto","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t(u.Z,e._g(e._b({directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"mask",rawName:"v-mask",value:"##/##/####",expression:"'##/##/####'"}],staticClass:"grey-label mb-0 pb-0",attrs:{id:"data[CADASTO]",color:"blue",label:"Cadastro do Veículo",name:"data[CADASTRO]",disabled:e.isDisabled,readonly:"","hide-details":"true",outlined:"","prepend-icon":"mdi-calendar-month"},model:{value:e.editedVehicle.CADASTRO,callback:function(t){e.$set(e.editedVehicle,"CADASTRO",t)},expression:"editedVehicle.CADASTRO"}},"v-text-field",s,!1),i))]}}],null,!1,3238920943)})],1),t(c.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[t(u.Z,{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"usuario",staticClass:"grey-label",attrs:{color:"blue",disabled:e.isDisabled,"hide-details":"true",readonly:"",name:"data[USUARIO]","prepend-icon":"mdi-account-outline",label:"Usuário",outlined:""},model:{value:e.editedVehicle.USUARIO,callback:function(t){e.$set(e.editedVehicle,"USUARIO",t)},expression:"editedVehicle.USUARIO"}})],1)],1),t(N.Z,[t(c.Z,{attrs:{cols:"12",sm:"12",md:"3",order:"1","order-sm":"12","order-md":"1"}},[t(u.Z,{staticClass:"grey-label",attrs:{color:"blue",outlined:"","hide-details":"true","prepend-icon":"mdi-scale",name:"data[TARA]",label:"Tara (t)",oninput:"this.value = this.value.replace(/[^0-9,]/g, '').replace(/(\\..*)\\./g, '$1')"},model:{value:e.editedVehicle.TARA,callback:function(t){e.$set(e.editedVehicle,"TARA",t)},expression:"editedVehicle.TARA"}})],1),t(c.Z,{attrs:{cols:"12",sm:"6",md:"6",order:"12","order-sm":"1","order-md":"12"}},[t(u.Z,{directives:[{name:"mask",rawName:"v-mask",value:e.plateMask,expression:"plateMask"}],staticClass:"grey-label",attrs:{id:"placa",color:"blue",type:"text",outlined:"",rules:[()=>e.checkboxNF?e.editedVehicle.PLACA.length>=4||"NF incompleta":8===e.editedVehicle.PLACA.length||"Placa Incompleta"],required:"","prepend-icon":"mdi-numeric",name:"data[PLACA]",onkeyup:"this.value = this.value.toUpperCase()"},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Placa ")]},proxy:!0}],null,!1,2902405565),model:{value:e.editedVehicle.PLACA,callback:function(t){e.$set(e.editedVehicle,"PLACA",t)},expression:"editedVehicle.PLACA"}})],1),t(c.Z,{attrs:{cols:"12",sm:"6",md:"3",order:"12","order-sm":"1","order-md":"12"}},[t(o.Z,{staticClass:"mt-0 mx-0 px-0",attrs:{label:"Ativo","hide-details":"true",height:"15px"},model:{value:e.checkboxAtivo,callback:function(t){e.checkboxAtivo=t},expression:"checkboxAtivo"}}),t(o.Z,{staticClass:"mx-0 px-0",attrs:{id:"nao-emplacado",label:"Não Emplacado",disabled:e.isDisabled,"hide-details":"true",height:"15px"},on:{click:function(t){return e.maskCheckbox()},blur:function(t){return e.maskCheckbox()}},model:{value:e.checkboxNF,callback:function(t){e.checkboxNF=t},expression:"checkboxNF"}})],1)],1),t(N.Z,[t(c.Z,{attrs:{cols:"12"}},[t(g,{staticClass:"grey-label",attrs:{color:"blue",outlined:"","hide-details":"true",label:"Documento do Veículo"}})],1)],1),t(N.Z,[t(c.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[t(V.Z,{ref:"marca",staticClass:"grey-label",attrs:{color:"blue",items:e.brands,"prepend-icon":"mdi-truck-flatbed",label:"Marca",name:"data[MARCA]",placeholder:"Selecione",outlined:""},model:{value:e.editedVehicle.MARCA,callback:function(t){e.$set(e.editedVehicle,"MARCA",t)},expression:"editedVehicle.MARCA"}}),t(u.Z,{staticClass:"grey-label",attrs:{color:"blue",outlined:"","prepend-icon":"mdi-ruler",label:"Modelo",name:"data[MODELO]"},model:{value:e.editedVehicle.MODELO,callback:function(t){e.$set(e.editedVehicle,"MODELO",t)},expression:"editedVehicle.MODELO"}}),t(u.Z,{directives:[{name:"mask",rawName:"v-mask",value:"####",expression:"'####'"}],staticClass:"grey-label",attrs:{color:"blue",rules:[()=>!e.editedVehicle.ANOFAB||e.editedVehicle.ANOFAB<2e3||4===e.editedVehicle.ANOFAB.length||"Informe um ano válido"],name:"data[ANOFAB]",outlined:"","prepend-icon":"mdi-numeric",label:"Ano"},model:{value:e.editedVehicle.ANOFAB,callback:function(t){e.$set(e.editedVehicle,"ANOFAB",t)},expression:"editedVehicle.ANOFAB"}})],1),t(c.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[t(u.Z,{directives:[{name:"mask",rawName:"v-mask",value:"AAA-#X##",expression:"'AAA-#X##'"}],staticClass:"grey-label",attrs:{color:"blue",outlined:"",rules:[()=>!e.editedVehicle.CONJUNTOPRINCIPAL||e.editedVehicle.CONJUNTOPRINCIPAL.length>=8||"Placa Incompleta"],name:"data[CONJUNTOPRINCIPAL]","prepend-icon":"mdi-truck-trailer",label:"Conjunto Principal",onkeyup:"this.value = this.value.toUpperCase()"},model:{value:e.editedVehicle.CONJUNTOPRINCIPAL,callback:function(t){e.$set(e.editedVehicle,"CONJUNTOPRINCIPAL",t)},expression:"editedVehicle.CONJUNTOPRINCIPAL"}}),t(u.Z,{directives:[{name:"mask",rawName:"v-mask",value:"XXXXXXXXXXXXXXXXX",expression:"'XXXXXXXXXXXXXXXXX'"}],staticClass:"grey-label",attrs:{color:"blue",outlined:"",rules:[()=>!e.editedVehicle.CHASSI||17===e.editedVehicle.CHASSI.length||"Chassi Incompleto"],name:"data[CHASSI]","prepend-icon":"mdi-numeric",label:"Chassi"},model:{value:e.editedVehicle.CHASSI,callback:function(t){e.$set(e.editedVehicle,"CHASSI",t)},expression:"editedVehicle.CHASSI"}}),t(u.Z,{staticClass:"grey-label",attrs:{color:"blue",outlined:"","prepend-icon":"mdi-ruler",label:"Carroceria",name:"data[CARROCERIA]"},model:{value:e.editedVehicle.CARROCERIA,callback:function(t){e.$set(e.editedVehicle,"CARROCERIA",t)},expression:"editedVehicle.CARROCERIA"}})],1)],1)],1)],1),t(n.h7,[t(a.Z,{directives:[{name:"show",rawName:"v-show",value:e.showVehicleCloneBtn,expression:"showVehicleCloneBtn"}],attrs:{color:"blue darken-3",text:""},on:{click:e.vehicleClone}},[e._v(" Clonar ")]),t(S.Z),t(a.Z,{attrs:{color:"red darken-2",text:""},on:{click:e.vehicleClose}},[e._v(" Cancelar ")]),t(a.Z,{attrs:{color:"blue darken-3",text:"",disabled:!e.valid},on:{click:e.vehicleSave}},[e._v(" Salvar ")])],1)],1)],1)],1),t(h.Z,{attrs:{id:"new item section","max-width":"40vw"},model:{value:e.licenceRegisterDialog,callback:function(t){e.licenceRegisterDialog=t},expression:"licenceRegisterDialog"}},[t(l.Z,{attrs:{id:"item card"}},[t(n.EB,[t("span",{staticClass:"text-h4 text-md-h3"},[e._v(e._s(e.licenceFormTitle))])]),t(O.Z,{ref:"form",staticClass:"form",attrs:{id:"sheetdb-form-l",method:"POST",action:"https://sheetdb.io/api/v1/1q4dfgpu4na0b"},on:{submit:e.validate},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"model",rawName:"v-model",value:e.editedLicence.ID,expression:"editedLicence.ID"}],attrs:{type:"text",name:"data[ID]"},domProps:{value:e.editedLicence.ID},on:{input:function(t){t.target.composing||e.$set(e.editedLicence,"ID",t.target.value)}}}),t("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"model",rawName:"v-model",value:e.editedLicence.VEICULOID,expression:"editedLicence.VEICULOID"}],attrs:{type:"text",name:"data[VEICULOID]"},domProps:{value:e.editedLicence.VEICULOID},on:{input:function(t){t.target.composing||e.$set(e.editedLicence,"VEICULOID",t.target.value)}}}),t("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"model",rawName:"v-model",value:e.editedLicence.STATUS,expression:"editedLicence.STATUS"}],attrs:{type:"text",name:"data[STATUS]"},domProps:{value:e.editedLicence.STATUS},on:{input:function(t){t.target.composing||e.$set(e.editedLicence,"STATUS",t.target.value)}}}),t(d.Z,{staticClass:"px-15"},[t(N.Z,[t(c.Z,{attrs:{cols:"12"}},[t(V.Z,{staticClass:"mr-1",attrs:{items:e.truckTypes,"prepend-icon":"mdi-truck",rules:[()=>!!e.editedLicence.TRACAO||"Campo Obrigatório"],"item-value":"name","item-text":"name",name:"data[TRACAO]",required:""},on:{change:function(t){e.subtype=null}},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Conjunto ")]},proxy:!0}],null,!1,57042314),model:{value:e.editedLicence.TRACAO,callback:function(t){e.$set(e.editedLicence,"TRACAO",t)},expression:"editedLicence.TRACAO"}}),"CVC - Combinação Veicular de Carga"===e.editedLicence.TRACAO?t(V.Z,{staticClass:"mr-1",attrs:{items:e.truckTypes[0].subtypes,rules:[()=>!!e.editedLicence.CONJUNTO||"Campo Obrigatório"],"prepend-icon":"mdi-truck","item-value":"subtypes","item-text":"subtypes",name:"data[CONJUNTO]",required:""},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Tipo ")]},proxy:!0}],null,!1,2346305152),model:{value:e.editedLicence.CONJUNTO,callback:function(t){e.$set(e.editedLicence,"CONJUNTO",t)},expression:"editedLicence.CONJUNTO"}}):e._e(),"Prancha"===e.editedLicence.TRACAO?t(V.Z,{staticClass:"mr-1",attrs:{items:e.truckTypes[1].subtypes,rules:[()=>!!e.editedLicence.CONJUNTO||"Campo Obrigatório"],"prepend-icon":"mdi-truck","item-value":"name","item-text":"name",name:"data[CONJUNTO]",required:""},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Conjunto ")]},proxy:!0}],null,!1,57042314),model:{value:e.editedLicence.CONJUNTO,callback:function(t){e.$set(e.editedLicence,"CONJUNTO",t)},expression:"editedLicence.CONJUNTO"}}):e._e(),"Baú"===e.editedLicence.TRACAO?t(V.Z,{staticClass:"mr-1",attrs:{items:e.truckTypes[2].subtypes,rules:[()=>!!e.editedLicence.CONJUNTO||"Campo Obrigatório"],"prepend-icon":"mdi-truck",required:"","item-value":"subtypes","item-text":"subtypes",name:"data[CONJUNTO]"},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Conjunto ")]},proxy:!0}],null,!1,57042314),model:{value:e.editedLicence.CONJUNTO,callback:function(t){e.$set(e.editedLicence,"CONJUNTO",t)},expression:"editedLicence.CONJUNTO"}}):e._e(),"Guindaste"===e.editedLicence.TRACAO?t(V.Z,{staticClass:"mr-1",attrs:{items:e.truckTypes[3].subtypes,rules:[()=>!!e.editedLicence.CONJUNTO||"Campo Obrigatório"],"prepend-icon":"mdi-truck",required:"","item-value":"subtypes","item-text":"subtypes",name:"data[CONJUNTO]"},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])]),e._v("Conjunto ")]},proxy:!0}],null,!1,57042314),model:{value:e.editedLicence.CONJUNTO,callback:function(t){e.$set(e.editedLicence,"CONJUNTO",t)},expression:"editedLicence.CONJUNTO"}}):e._e(),"Bitrem 9 eixos"===e.editedLicence.CONJUNTO?t(I.Z,{staticClass:"mx-auto my-5",attrs:{"max-height":"150","max-width":"300",src:i(3388),contain:""}}):e._e(),"Bitrem 7 eixos"===e.editedLicence.CONJUNTO?t(I.Z,{staticClass:"mx-auto my-5",attrs:{"max-height":"150","max-width":"300",src:i(390),contain:""}}):e._e(),"Rodotrem 9 eixos"===e.editedLicence.CONJUNTO?t(I.Z,{staticClass:"mx-auto my-5",attrs:{"max-height":"150","max-width":"300",src:i(1360),contain:""}}):e._e(),"Romeu e Julieta"===e.editedLicence.CONJUNTO?t(I.Z,{staticClass:"mx-auto my-5",attrs:{"max-height":"150","max-width":"300",src:i(7372),contain:""}}):e._e(),"Vazio ou Carregado"===e.editedLicence.CONJUNTO?t(I.Z,{staticClass:"mx-auto my-5",attrs:{"max-height":"150","max-width":"300",src:i(2288),contain:""}}):e._e(),"Vazio"===e.editedLicence.CONJUNTO?t(I.Z,{staticClass:"mx-auto my-5",attrs:{"max-height":"150","max-width":"300",src:i(5473),contain:""}}):e._e(),"Carga Indivisível"===e.editedLicence.CONJUNTO?t(I.Z,{staticClass:"mx-auto my-5",attrs:{"max-height":"150","max-width":"300",src:i(9138),contain:""}}):e._e(),"Superdimensionada e Indivisível"===e.editedLicence.CONJUNTO?t(I.Z,{staticClass:"mx-auto my-5",attrs:{"max-height":"150","max-width":"300",src:i(2906),contain:""}}):e._e(),"Guindaste"===e.editedLicence.TRACAO&&"Até 48 toneladas"===e.editedLicence.CONJUNTO||"Acima de 48 toneladas"===e.editedLicence.CONJUNTO?t(I.Z,{staticClass:"mx-auto my-5",attrs:{"max-height":"150","max-width":"300",src:i(7401),contain:""}}):e._e()],1)],1),t(N.Z,[t(c.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[t("div",[t(x.Z,[e._v("mdi-truck-fast-outline")])],1),t(V.Z,{attrs:{items:e.states,label:"UF Origem","item-value":"sigla","item-text":"sigla"},on:{click:function(t){return e.getStates()}},model:{value:e.originState,callback:function(t){e.originState=t},expression:"originState"}}),t(V.Z,{attrs:{items:e.originCities,label:"Cidade Origem","item-value":"nome","item-text":"nome"},on:{click:function(t){return e.getCitiesOrigin()}},model:{value:e.originCity,callback:function(t){e.originCity=t},expression:"originCity"}})],1),t(c.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[t("div",[t(x.Z,[e._v("mdi-truck-check-outline")])],1),t(V.Z,{attrs:{items:e.states,label:"UF Destino","item-value":"sigla","item-text":"sigla"},on:{click:function(t){return e.getStates()}},model:{value:e.destinationState,callback:function(t){e.destinationState=t},expression:"destinationState"}}),t(V.Z,{attrs:{items:e.destinationCities,label:"Cidade Destino","item-value":"nome","item-text":"nome"},on:{click:function(t){return e.getCitiesDestination()}},model:{value:e.destinationCity,callback:function(t){e.destinationCity=t},expression:"destinationCity"}})],1)],1),t(n.h7,[t(a.Z,{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{color:"blue darken-3",text:""},on:{click:e.licenceClone}},[e._v(" Clonar ")]),t(S.Z),t(a.Z,{attrs:{color:"red darken-2",text:""},on:{click:e.licenceClose}},[e._v(" Cancelar ")]),t(a.Z,{attrs:{color:"blue darken-3",text:"",disabled:!e.valid},on:{click:e.licenceSave}},[e._v(" Salvar ")])],1)],1)],1)],1)],1),t(h.Z,{attrs:{id:"new item section","max-width":"70vw"},model:{value:e.licenceWatchDialog,callback:function(t){e.licenceWatchDialog=t},expression:"licenceWatchDialog"}},[t(l.Z,{attrs:{id:"item card"}},[t(n.EB,[t("span",{staticClass:"text-h4 text-md-h3"},[e._v(e._s(e.licenceFormTitle))])]),t(O.Z,{ref:"form",staticClass:"form",attrs:{id:"sheetdb-form-l",method:"POST",action:"https://sheetdb.io/api/v1/1q4dfgpu4na0b"},on:{submit:e.validate},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(d.Z,{staticClass:"px-15"},[t(N.Z,[t(c.Z,{attrs:{cols:"12"}},["Bitrem 9 eixos"===e.editedLicence.CONJUNTO?t(I.Z,{staticClass:"mx-auto my-5",attrs:{"max-height":"150","max-width":"300",src:i(3388),contain:""}}):e._e(),"Bitrem 7 eixos"===e.editedLicence.CONJUNTO?t(I.Z,{staticClass:"mx-auto my-5",attrs:{"max-height":"150","max-width":"300",src:i(390),contain:""}}):e._e(),"Rodotrem 9 eixos"===e.editedLicence.CONJUNTO?t(I.Z,{staticClass:"mx-auto my-5",attrs:{"max-height":"150","max-width":"300",src:i(1360),contain:""}}):e._e(),"Romeu e Julieta"===e.editedLicence.CONJUNTO?t(I.Z,{staticClass:"mx-auto my-5",attrs:{"max-height":"150","max-width":"300",src:i(7372),contain:""}}):e._e(),"Vazio ou Carregado"===e.editedLicence.CONJUNTO?t(I.Z,{staticClass:"mx-auto my-5",attrs:{"max-height":"150","max-width":"300",src:i(2288),contain:""}}):e._e(),"Vazio"===e.editedLicence.CONJUNTO?t(I.Z,{staticClass:"mx-auto my-5",attrs:{"max-height":"150","max-width":"300",src:i(5473),contain:""}}):e._e(),"Carga Indivisível"===e.editedLicence.CONJUNTO?t(I.Z,{staticClass:"mx-auto my-5",attrs:{"max-height":"150","max-width":"300",src:i(9138),contain:""}}):e._e(),"Superdimensionada e Indivisível"===e.editedLicence.CONJUNTO?t(I.Z,{staticClass:"mx-auto my-5",attrs:{"max-height":"150","max-width":"300",src:i(2906),contain:""}}):e._e(),"Guindaste"===e.editedLicence.TRACAO&&"Até 48 toneladas"===e.editedLicence.CONJUNTO||"Acima de 48 toneladas"===e.editedLicence.CONJUNTO?t(I.Z,{staticClass:"mx-auto my-5",attrs:{"max-height":"150","max-width":"300",src:i(7401),contain:""}}):e._e()],1)],1),t(N.Z,[t(c.Z,{attrs:{cols:"12",sm:"6",md:"4"}},[t(u.Z,{attrs:{outlined:"",readonly:"","prepend-icon":"mdi-map-marker-outline",label:"Licença"},model:{value:e.editedLicence.TIPO,callback:function(t){e.$set(e.editedLicence,"TIPO",t)},expression:"editedLicence.TIPO"}}),t(u.Z,{attrs:{outlined:"",readonly:"","prepend-icon":"mdi-calendar-clock-outline",label:"Vencimento"},model:{value:e.editedLicence.VENCIMENTO,callback:function(t){e.$set(e.editedLicence,"VENCIMENTO",t)},expression:"editedLicence.VENCIMENTO"}}),t(u.Z,{attrs:{outlined:"",readonly:"","prepend-icon":"mdi-scale",label:"Peso Total"},model:{value:e.editedLicence.CARGA,callback:function(t){e.$set(e.editedLicence,"CARGA",t)},expression:"editedLicence.CARGA"}})],1),t(c.Z,{attrs:{cols:"12",sm:"6",md:"4"}},[t(u.Z,{attrs:{outlined:"",readonly:"","prepend-icon":"mdi-ruler",label:"Altura"},model:{value:e.editedLicence.ALTURA,callback:function(t){e.$set(e.editedLicence,"ALTURA",t)},expression:"editedLicence.ALTURA"}}),t(u.Z,{attrs:{outlined:"",readonly:"","prepend-icon":"mdi-ruler",label:"Largura"},model:{value:e.editedLicence.LARGURA,callback:function(t){e.$set(e.editedLicence,"LARGURA",t)},expression:"editedLicence.LARGURA"}}),t(u.Z,{attrs:{outlined:"",readonly:"","prepend-icon":"mdi-ruler",label:"Comprimento"},model:{value:e.editedLicence.COMPRIMENTO,callback:function(t){e.$set(e.editedLicence,"COMPRIMENTO",t)},expression:"editedLicence.COMPRIMENTO"}})],1),t(c.Z,{attrs:{cols:"12",sm:"12",md:"4"}},[t(y.Z,{attrs:{outlined:"",readonly:"",rows:"8","prepend-icon":"mdi-truck-trailer",label:"Unidades Tracionadas"},model:{value:e.editedLicence.UNTRACIONADAS,callback:function(t){e.$set(e.editedLicence,"UNTRACIONADAS",t)},expression:"editedLicence.UNTRACIONADAS"}})],1)],1)],1)],1)],1)],1),t(h.Z,{attrs:{"max-width":"500px"},model:{value:e.vehicleDialogSave,callback:function(t){e.vehicleDialogSave=t},expression:"vehicleDialogSave"}},[t(l.Z,[t(n.EB,{staticClass:"text-h6"},[t("p",[e._v("Você está prestes a alterar os dados do veículo. ")])]),t(n.ZB,[t("p",[e._v(" Tem certeza que a alteração desses dados não causará nenhum problema futuro? ")])]),t(n.h7,[t(S.Z),t(a.Z,{attrs:{color:"red darken-2",text:"",autofocus:""},on:{click:e.closeVehicleDialogSave}},[e._v(" Cancelar ")]),t(a.Z,{attrs:{color:"blue darken-3",text:""},on:{click:e.editVehicleConfirm}},[e._v(" Sim ")]),t(S.Z)],1)],1)],1),t(h.Z,{attrs:{"max-width":"500px"},model:{value:e.vehicleDialogDelete,callback:function(t){e.vehicleDialogDelete=t},expression:"vehicleDialogDelete"}},[t(l.Z,[t(n.EB,{staticClass:"text-h5"},[e._v(" Tem certeza que excluir esse lançamento não causará nenhum problema futuro? ")]),t(n.h7,[t(S.Z),t(a.Z,{attrs:{color:"red darken-2",text:"",autofocus:""},on:{click:e.vehicleCloseDelete}},[e._v(" Cancelar ")]),t(a.Z,{attrs:{color:"blue darken-3",text:""},on:{click:e.deleteItemConfirm}},[e._v(" Sim ")]),t(S.Z)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:i}){return[t(x.Z,{staticClass:"mr-2",attrs:{id:"editBtn",small:""},on:{click:function(t){e.editVehicle(i),e.disabledField(),e.showVehicleCloneBtn=!0,e.maskCheckbox(),e.setEditTime()}}},[e._v(" mdi-pencil ")]),t(x.Z,{staticClass:"mr-2",attrs:{id:"addBtn"},on:{click:function(t){e.addLicence(i),e.greaterLicenceId(),e.getVehicleID(i),e.editedLicence.STATUS="PRE-PEDIDO"}}},[e._v(" mdi-text-box-plus-outline ")]),t(x.Z,{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"newLicenceBtn",small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[t(a.Z,{attrs:{color:"blue",dark:""},on:{click:e.fetchFleet}},[e._v(" Carregar Lista ")])]},proxy:!0},{key:"expanded-item",fn:function({headers:i,item:s}){return[t("td",{staticClass:"pa-2 ma-2",attrs:{colspan:i.length}},[t(L.Z,{attrs:{"max-width":"80%"},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-left"},[e._v(" Código ")]),t("th",{staticClass:"text-left"},[e._v(" Tipo ")]),t("th",{staticClass:"text-left"},[e._v(" AET ")]),t("th",{staticClass:"text-left"},[e._v(" Emissão ")]),t("th",{staticClass:"text-left"},[e._v(" Vencimento ")]),t("th",{staticClass:"text-left"},[e._v(" Visualizar ")])])]),t("tbody",[e.licencesLoader?t(b.Z,{staticStyle:{"margin-left":"2%","margin-right":"2%",width:"96%"},attrs:{indeterminate:"",color:"blue darken-2",absolute:""}}):e._e(),e._l(e.licences,(function(i){return t("tr",{key:i.ID},[i.VEICULOID===s.ID?t("td",[e._v(e._s(i.ID))]):e._e(),i.VEICULOID===s.ID?t("td",[e._v(e._s(i.TIPO))]):e._e(),i.VEICULOID===s.ID?t("td",[e._v(e._s(i.AET))]):e._e(),i.VEICULOID===s.ID?t("td",[e._v(e._s(i.EMISSAO))]):e._e(),i.VEICULOID===s.ID?t("td",[e._v(e._s(i.VENCIMENTO))]):e._e(),i.VEICULOID===s.ID?t("td",[t(x.Z,{staticClass:"mr-2",attrs:{id:"watchBtn",small:""},on:{click:function(t){return e.watchLicence(i)}}},[e._v(" mdi-eye ")])],1):e._e()])}))],2)]},proxy:!0}],null,!0)})],1)]}}],null,!0)})],1):e._e()},w=[],Z=i(594),U=i(144),E={name:"FleetControl",filters:{currencyBRL(e){return e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},data:()=>({vId:null,lId:null,repeatedV:!1,repeatedL:!1,valid:!0,checkboxAtivo:!1,checkboxNF:!1,vehicleDialog:!1,vehicleDialogSave:!1,vehicleDialogDelete:!1,licenceRegisterDialog:!1,licenceWatchDialog:!1,licenceDialogSave:!1,licenceDialogDelete:!1,licencesLoader:!0,showUpdate:!1,showPost:!1,showError:!1,showVehicleCloneBtn:!0,isDisabled:!1,logado:window.localStorage.logado,user:window.localStorage.user,razaoSocial:window.localStorage.razaosocial,plateMask:"AAA-#X##",search:"",form:"",now:"",timeNow:"",err:"",weight:"",length:"",width:"",height:"",tempUSUARIO:"",tempTARA:"",tempPLACA:"",tempATIVO:"",tempMARCA:"",tempMODELO:"",tempCONJUNTOPRINCIPAL:"",tempANOFAB:"",tempCHASSI:"",tempEIXO:"",tempCARROCERIA:"",tempPOTENCIA:"",tempRENAVAM:"",tempCMT:"",tempRNTRC:"",type:"",subtype:"",originState:"",destinationState:"",originCity:"",destinationCity:"",states:[],originCities:[],destinationCities:[],expanded:[],fleet:[],licences:[],brands:[{value:"DAF",text:"DAF"},{value:"Iveco",text:"Iveco"},{value:"MAN",text:"MAN"},{value:"Mercedes",text:"Mercedes"},{value:"Scania",text:"Scania"},{value:"Volkswagen",text:"Volkswagen"},{value:"Volvo",text:"Volvo"}],statuses:[],headers:[{text:"ID",value:"ID",align:" d-none"},{text:"Marca",value:"MARCA"},{text:"Placa",value:"PLACA"},{text:"Ativo",value:"ATIVO"},{text:"Edição",value:"actions",sortable:!1}],editedVIndex:-1,editedLIndex:-1,editedVehicle:{ID:"",CADASTRO:"",USUARIO:"",PLACA:"",ANOFAB:"",CHASSI:"",MARCA:"",MODELO:"",CARROCERIA:"",POTENCIA:"",CMT:"",TARA:"",RENAVAM:"",RNTRC:"",CONJUNTOPRINCIPAL:"",ATIVO:"N",EDICAO:""},editedLicence:{ID:"",VEICULOID:"",STATUS:"PRE-PEDIDO",PLACA:"",AET:"",EMISSAO:"",VENCIMENTO:"",TIPO:"",TRACAO:"",CONJUNTO:"",ALTURA:"",LARGURA:"",COMPRIMENTO:"",CARGA:"",UFORIGEM:"",UFDESTINO:"",CIDADEORIGEM:"",CIDADEDESTINO:"",UNTRACIONADAS:""},defaultVehicle:{ID:"",CADASTRO:"",USUARIO:"",PLACA:"",ANOFAB:"",CHASSI:"",MARCA:"",MODELO:"",CARROCERIA:"",POTENCIA:"",CMT:"",TARA:"",RENAVAM:"",RNTRC:"",CONJUNTOPRINCIPAL:"",ATIVO:"N",EDICAO:""},defaultLicence:{ID:"",VEICULOID:"",STATUS:"PRE-PEDIDO",PLACA:"",AET:"",EMISSAO:"",VENCIMENTO:"",TIPO:"",TRACAO:"",CONJUNTO:"",ALTURA:"",LARGURA:"",COMPRIMENTO:"",CARGA:"",UFORIGEM:"",UFDESTINO:"",CIDADEORIGEM:"",CIDADEDESTINO:"",UNTRACIONADAS:""},truckTypes:[{id:1,name:"CVC - Combinação Veicular de Carga",subtypes:["Rodotrem 9 eixos","Bitrem 9 eixos","Romeu e Julieta","Bitrem 7 eixos"]},{id:2,name:"Prancha",subtypes:["Vazio","Carga Indivisível","Superdimensionada e Indivisível"]},{id:3,name:"Baú",subtypes:["Vazio ou Carregado"]},{id:4,name:"Guindaste",subtypes:["Até 48 toneladas","Acima de 48 toneladas"]}]}),computed:{vehicleFormTitle(){return-1===this.editedVIndex?"Novo Veículo":`Editar Veículo - ID ${this.editedVehicle.ID}`},licenceFormTitle(){return-1===this.editedLIndex?"Nova Licença":`Licença - ${this.editedLicence.AET} - ${this.editedLicence.CONJUNTO}`},rulesANOFAB(){const e=[],t=this.editedVehicle.ANOFAB>=2e3||"Veículo muito antigo para rodar";return e.push(t),e}},watch:{vehicleDialog(e){return e||this.vehicleClose(),this.editedVehicle.PLACA.includes("NF-")?(this.checkboxNF=!0,this.plateMask="?NF-#################"):"S"===this.editedVehicle.ATIVO?this.checkboxAtivo=!0:"N"===this.editedVehicle.ATIVO?this.checkboxAtivo=!1:void 0},licenceDialog(e){e||this.licenceClose()},vehicleDialogSave(e){e||this.closeVehicleDialogSave()},licenceDialogSave(e){e||this.closeLicenceDialogSave()},vehicleDialogDelete(e){e||this.vehicleCloseDelete()},licenceDialogDelete(e){e||this.licenceCloseDelete()},checkboxAtivo(){this.activeVehicle()},err(){console.log(this.err),alert("Um erro foi encontrado. Por favor, entre em contato com o suporte.")},expanded(){this.fetchLicences()},licences(){this.licencesLoader=!1}},created(){this.fetchFleet(),this.maskCheckbox(),U.ZP.config.warnHandler=e=>this.err=e},methods:{validate(){this.$refs.observer.validate()},maskCheckbox(){!0===this.checkboxNF?this.plateMask="NF-##############":this.plateMask="AAA-#X##"},activeVehicle(){!0===this.checkboxAtivo?this.editedVehicle.ATIVO="S":this.editedVehicle.ATIVO="N"},disabledField(){this.editedVIndex>-1?this.isDisabled=!0:-1===this.editedVIndex&&(this.isDisabled=!1)},setTimeNow(){var e=new Date,t=e.getDate(),i=e.getMonth()+1,s=e.getFullYear();i<10&&(i="0"+i),t<10&&(t="0"+t),this.now=t+"/"+i+"/"+s,-1===this.editedVIndex&&(this.editedVehicle.CADASTRO=this.now)},setEditTime(){const e=Date.now(),t=new Date(e);this.timeNow=t.toLocaleString("pt-BR")},setUser(){-1===this.editedVIndex&&(this.editedVehicle.USUARIO=this.user)},formatDate(e){if(!e)return null;const[t,i,s]=e.split("-");return`${s}/${i}/${t}`},parseDate(e){if(!e)return null;const[t,i,s]=e.split("/");return`${s}-${i.padStart(2,"0")}-${t.padStart(2,"0")}`},fetchFleet(){return fetch("https://sheetdb.io/api/v1/gy59g6tp4jo4p").then((e=>e.json())).then((e=>{this.fleet=e}))},fetchLicences(){return fetch("https://sheetdb.io/api/v1/1q4dfgpu4na0b").then((e=>e.json())).then((e=>{this.licences=e}))},greaterVehicleId(){return Z.Z.get("https://sheetdb.io/api/v1/gy59g6tp4jo4p").then((e=>{this.vId=e.data.length+1;for(let t=0;t<e.data.length;t++)Number(this.vId)===Number(e.data[t].ID)?this.repeatedV=!0:this.repeatedV=!1;-1===this.editedVIndex&&(!0===this.repeatedV?alert("ID duplicado. Favor contatar suporte e suspender novos lançamentos até que a correção seja confirmada."):this.editedVehicle.ID=this.vId)}))},greaterLicenceId(){return Z.Z.get("https://sheetdb.io/api/v1/1q4dfgpu4na0b").then((e=>{this.lId=e.data.length+148e3;for(let t=0;t<e.data.length;t++)Number(this.id)===Number(e.data[t].ID)?this.repeatedL=!0:this.repeatedL=!1;-1===this.editedLIndex&&(!0===this.repeatedL?alert("ID duplicado. Favor contatar suporte e suspender novos lançamentos até que a correção seja confirmada."):this.editedLicence.ID=this.lId)}))},getVehicleID(e){this.editedLicence.VEICULOID=e.ID},addLicence(e){this.editedLIndex=this.licences.indexOf(e),this.editedLicence=Object.assign({},e),this.licenceRegisterDialog=!0},watchLicence(e){this.editedLIndex=this.licences.indexOf(e),this.editedLicence=Object.assign({},e),this.licenceWatchDialog=!0,console.log(e)},editVehicle(e){this.err.includes("Duplicado")?(alert("Não atualizar lançamentos e contatar suporte."),this.vehicleClose()):(this.editedVIndex=this.fleet.indexOf(e),this.editedVehicle=Object.assign({},e),this.vehicleDialog=!0,console.log(e))},deleteItem(e){this.editedVIndex=this.fleet.indexOf(e),this.editedVehicle=Object.assign({},e),this.vehicleDialogDelete=!0},editVehicleConfirm(){this.editedVIndex>-1?(Z.Z.put(`https://sheetdb.io/api/v1/gy59g6tp4jo4p/ID/${this.editedVehicle.ID}`,{data:{USUARIO:`${this.editedVehicle.USUARIO}`,TARA:`${this.editedVehicle.TARA}`,PLACA:`${this.editedVehicle.PLACA}`,ATIVO:`${this.editedVehicle.ATIVO}`,MARCA:`${this.editedVehicle.MARCA}`,MODELO:`${this.editedVehicle.MODELO}`,CONJUNTOPRINCIPAL:`${this.editedVehicle.CONJUNTOPRINCIPAL}`,ANOFAB:`${this.editedVehicle.ANOFAB}`,CHASSI:`${this.editedVehicle.CHASSI}`,CARROCERIA:`${this.editedVehicle.CARROCERIA}`,POTENCIA:`${this.editedVehicle.POTENCIA}`,CMT:`${this.editedVehicle.CMT}`,RENAVAM:`${this.editedVehicle.RENAVAM}`,RNTRC:`${this.editedVehicle.RNTRC}`,EDICAO:`${this.editedVehicle.EDICAO} ${this.user} ${this.timeNow}.`}}).then((e=>{200===e.status||201===e.status?(this.showUpdate=!this.showUpdate,this.fetchFleet(),setTimeout((()=>{this.showUpdate=!this.showUpdate}),1500)):(this.showError=!this.showError,setTimeout((()=>{this.showError=!this.showError,window.location.reload()}),1500))})),this.vehicleDialogSave=!1,setTimeout((()=>{this.vehicleClose()}),200)):this.vehicleSave()},deleteItemConfirm(){this.fleet.splice(this.editedVIndex,1),this.vehicleCloseDelete()},vehicleClose(){this.checkboxNF=!1,this.editedVehicle.ATIVO="N",this.vehicleDialog=!1,this.isDisabled=!1,this.$nextTick((()=>{this.editedVehicle=Object.assign({},this.defaultVehicle),this.editedVIndex=-1}))},licenceClose(){this.licenceRegisterDialog=!1,this.licenceWatchDialog=!1,this.$nextTick((()=>{this.editedLicence=Object.assign({},this.defaultLicence),this.editedLIndex=-1}))},closeVehicleDialogSave(){this.vehicleDialogSave=!1},vehicleCloseDelete(){this.vehicleDialogDelete=!1,this.$nextTick((()=>{this.editedVehicle=Object.assign({},this.defaultVehicle),this.editedVIndex=-1}))},validateField(){this.$refs.form.validate()},vehicleClone(){this.editedVIndex>-1?(this.tempUSUARIO=this.editedVehicle.USUARIO,this.tempTARA=this.editedVehicle.TARA,this.tempPLACA=this.editedVehicle.PLACA,this.tempATIVO=this.editedVehicle.ATIVO,this.tempMARCA=this.editedVehicle.MARCA,this.tempMODELO=this.editedVehicle.MODELO,this.tempCONJUNTOPRINCIPAL=this.editedVehicle.CONJUNTOPRINCIPAL,this.tempANOFAB=this.editedVehicle.ANOFAB,this.tempCHASSI=this.editedVehicle.CHASSI,this.tempPOTENCIA=this.editedVehicle.POTENCIA,this.tempCARROCERIA=this.editedVehicle.CARROCERIA,setTimeout((()=>{this.vehicleClose()}),300),setTimeout((()=>{document.getElementById("newVehicleBtn").click()}),300),setTimeout((()=>{this.editedVehicle.USUARIO=this.tempUSUARIO,this.editedVehicle.TARA=this.tempTARA,this.editedVehicle.PLACA=this.tempPLACA,this.editedVehicle.ATIVO=this.tempATIVO,this.editedVehicle.MARCA=this.tempMARCA,this.editedVehicle.CONJUNTOPRINCIPAL=this.tempCONJUNTOPRINCIPAL,this.editedVehicle.ANOFAB=this.tempANOFAB,this.editedVehicle.CHASSI=this.tempCHASSI,this.editedVehicle.POTENCIA=this.tempPOTENCIA,this.editedVehicle.CARROCERIA=this.tempCARROCERIA,this.editedVehicle.MODELO=this.tempMODELO}),300)):this.showVehicleCloneBtn=!1},licenceClone(){this.editedLIndex>-1?(setTimeout((()=>{this.licenceClose()}),300),setTimeout((()=>{document.getElementById("newLicenceBtn").click()}),300),setTimeout((()=>{}),300)):this.showLicenceCloneBtn=!1},vehicleSave(){var e=document.getElementById("sheetdb-form-v");this.editedVIndex>-1?this.vehicleDialogSave=!0:(this.vId||alert("lançamento sem ID. Favor contatar suporte antes de prosseguir."),fetch(e.action,{method:"POST",body:new FormData(e)}).then((e=>{200===e.status||201===e.status?(this.showPost=!this.showPost,this.fetchFleet(),setTimeout((()=>{this.showPost=!this.showPost}),1500)):429===e.status?(alert("O limite de solicitações foi excedido! Entre em contato com o suporte para liberar mais espaço."),window.location.reload()):401!==e.status&&403!==e.status||(alert("Erro de servidor. Entre em contato com o suporte."),window.location.reload())})),this.vehicleClose())},licenceSave(){var e=document.getElementById("sheetdb-form-l");this.editedLIndex>-1?this.licenceDialogSave=!0:(fetch(e.action,{method:"POST",body:new FormData(e)}).then((e=>{200===e.status||201===e.status?(this.showPost=!this.showPost,this.fetchLicences(),setTimeout((()=>{this.showPost=!this.showPost}),1500)):429===e.status?(alert("O limite de solicitações foi excedido! Entre em contato com o suporte para liberar mais espaço."),window.location.reload()):401!==e.status&&403!==e.status||(alert("Erro de servidor. Entre em contato com o suporte."),window.location.reload())})),this.licenceClose())},getStates(){fetch("https://servicodados.ibge.gov.br/api/v1/localidades/estados?orderBy=nome").then((e=>e.json())).then((e=>{this.states=e}))},getCitiesOrigin(){fetch(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${this.originState}/municipios`).then((e=>e.json())).then((e=>{this.originCities=e}))},getCitiesDestination(){fetch(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${this.destinationState}/municipios`).then((e=>e.json())).then((e=>{this.destinationCities=e}))}}},_=E,P=i(1001),$=(0,P.Z)(_,R,w,!1,null,null,null),M=$.exports},6072:function(e,t,i){i.d(t,{Z:function(){return n}});i(7393);var s=i(1012),a=i(3316),l=i(1465),n=l.Z.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...a.Z.options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(e){this.$nextTick((()=>this.inputIndeterminate=e))},inputIndeterminate(e){this.$emit("update:indeterminate",e)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){const{title:e,...t}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(s.Z,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...t,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}})},5617:function(e,t,i){i.d(t,{Z:function(){return n}});var s=i(5251),a=i(4987);const l=(0,a.Z)(s.Z);var n=l.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:e=>!isNaN(parseFloat(e))},rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseInt(e,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...s.Z.options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(e){this.$nextTick((()=>{var t;e?this.calculateInputHeight():null===(t=this.$refs.input)||void 0===t||t.style.removeProperty("height")}))},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout((()=>{this.autoGrow&&this.calculateInputHeight()}),0)},methods:{calculateInputHeight(){const e=this.$refs.input;if(!e)return;e.style.height="0";const t=e.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);e.style.height=Math.max(i,t)+"px"},genInput(){const e=s.Z.options.methods.genInput.call(this);return e.tag="textarea",delete e.data.attrs.type,e.data.attrs.rows=this.rows,e},onInput(e){s.Z.options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}})},1465:function(e,t,i){i.d(t,{Z:function(){return r}});i(7658);var s=i(3316),a=i(3176),l=i(144),n=l.ZP.extend({name:"rippleable",directives:{ripple:a.Z},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(e={}){return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",e)):null}}}),o=i(564),c=i(4987);function d(e){e.preventDefault()}var r=(0,c.Z)(s.Z,n,o.Z).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const e=this.value,t=this.internalValue;return this.isMultiple?!!Array.isArray(t)&&t.some((t=>this.valueComparator(t,e))):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,t):Boolean(t):this.valueComparator(t,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel(){const e=s.Z.options.methods.genLabel.call(this);return e?(e.data.on={click:d},e):e},genInput(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:d},ref:"input"})},onClick(e){this.onChange(),this.$emit("click",e)},onChange(){if(!this.isInteractive)return;const e=this.value;let t=this.internalValue;if(this.isMultiple){Array.isArray(t)||(t=[]);const i=t.length;t=t.filter((t=>!this.valueComparator(t,e))),t.length===i&&t.push(e)}else t=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(t,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(t,e)?null:e:!t;this.validate(!0,t),this.internalValue=t,this.hasColor=t},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},onBlur(e){this.isFocused=!1,this.$emit("blur",e)},onKeydown(e){}}})},7393:function(){},2288:function(e,t,i){e.exports=i.p+"img/bau.66673c9c.png"},390:function(e,t,i){e.exports=i.p+"img/bitrem7.bd614f68.png"},3388:function(e,t,i){e.exports=i.p+"img/bitrem9.40b4f8d5.png"},7401:function(e,t,i){e.exports=i.p+"img/guindaste.2744b40a.png"},9138:function(e,t,i){e.exports=i.p+"img/indivisivel.831b9544.png"},5473:function(e,t,i){e.exports=i.p+"img/pranchavazio.7b5d5685.png"},1360:function(e,t,i){e.exports=i.p+"img/rodotrem9.022e1de6.png"},7372:function(e,t,i){e.exports=i.p+"img/romeuejulieta.71fbf401.png"},2906:function(e,t,i){e.exports=i.p+"img/superindivisivel.2b65f777.png"}}]);
//# sourceMappingURL=views-FleetControl.5c8eaf6f.js.map