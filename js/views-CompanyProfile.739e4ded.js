"use strict";(self["webpackChunknvs_v4"]=self["webpackChunknvs_v4"]||[]).push([[365],{7880:function(e,t,s){s.r(t),s.d(t,{default:function(){return C}});var o=s(4568),i=s(7179),r=s(3385),a=s(4437),l=s(6035),n=s(6904),c=s(8236),d=s(5294),m=s(5251),p=function(){var e=this,t=e._self._c;return"true"===e.logado?t(l.Z,{attrs:{id:"user-profile-view",fluid:"",tag:"section"}},[t(c.Z,{attrs:{value:e.showUpdate}},[t(o.Z,{staticClass:"position-fixed",attrs:{icon:"mdi-check",prominent:"",shaped:"",type:"success",transition:"scale-transition"}},[e._v(" Perfil atualizado com sucesso! ")])],1),t(c.Z,{attrs:{value:e.showError}},[t(o.Z,{staticClass:"position-fixed",attrs:{icon:"mdi-alert",prominent:"",shaped:"",type:"error",transition:"scale-transition"}},[e._v(" Algo de errado não está certo. ")])],1),t(d.Z,{attrs:{justify:"center"}},[t(a.Z,{attrs:{cols:"12",md:"8"}},[t(r.Z,{staticClass:"mt-7 mb-10 mb-md-0"},[t(d.Z,[t(a.Z,{attrs:{cols:"12"}},[t("h3",{staticClass:"font-weight-medium ms-5 mb-10"},[e._v(" Editar Perfil — "),t("small",{staticClass:"text-body-1"},[e._v("Atualize as informações da empresa")])])])],1),t(n.Z,[t(l.Z,{staticClass:"py-0"},[t(d.Z,[t(a.Z,{attrs:{cols:"6",md:"3"}},[t(m.Z,{attrs:{disabled:"",label:"Empresa",outlined:""},model:{value:e.items.razaosocial,callback:function(t){e.$set(e.items,"razaosocial",t)},expression:"items.razaosocial"}})],1),t(a.Z,{attrs:{cols:"6",md:"3"}},["juridico"===e.items.emptipo?t(m.Z,{attrs:{disabled:"",color:"blue",label:"CNPJ",outlined:""},model:{value:e.items.empcnpj,callback:function(t){e.$set(e.items,"empcnpj",t)},expression:"items.empcnpj"}}):t(m.Z,{attrs:{disabled:"",color:"blue",label:"CNPJ",outlined:""},model:{value:e.items.empcpf,callback:function(t){e.$set(e.items,"empcpf",t)},expression:"items.empcpf"}})],1),t(a.Z,{attrs:{cols:"12",md:"6"}},[t(m.Z,{attrs:{color:"blue",label:"Contato",outlined:""},model:{value:e.items.empcontato,callback:function(t){e.$set(e.items,"empcontato",t)},expression:"items.empcontato"}})],1),t(a.Z,{attrs:{cols:"8",md:"9"}},[t(m.Z,{attrs:{color:"blue",label:"Logradouro",outlined:"",disabled:""},model:{value:e.items.emplogradouro,callback:function(t){e.$set(e.items,"emplogradouro",t)},expression:"items.emplogradouro"}})],1),t(a.Z,{attrs:{cols:"4",md:"3"}},[t(m.Z,{attrs:{color:"blue",label:"Número",outlined:""},model:{value:e.items.empnum,callback:function(t){e.$set(e.items,"empnum",t)},expression:"items.empnum"}})],1),t(a.Z,{attrs:{cols:"6",md:"4"}},[t(m.Z,{attrs:{color:"blue",label:"Estado",outlined:"",disabled:""},model:{value:e.items.empestado,callback:function(t){e.$set(e.items,"empestado",t)},expression:"items.empestado"}})],1),t(a.Z,{attrs:{cols:"6",md:"4"}},[t(m.Z,{attrs:{color:"blue",label:"Cidade",outlined:"",disabled:""},model:{value:e.items.empcidade,callback:function(t){e.$set(e.items,"empcidade",t)},expression:"items.empcidade"}})],1),t(a.Z,{attrs:{cols:"12",md:"4"}},[t(m.Z,{directives:[{name:"mask",rawName:"v-mask",value:"########",expression:"'########'"}],attrs:{rules:e.rulesCEP,required:"",color:"blue",name:"cep",label:"CEP",outlined:""},on:{keyup:e.preencherCep},model:{value:e.items.empcep,callback:function(t){e.$set(e.items,"empcep",t)},expression:"items.empcep"}})],1),t(a.Z,{staticClass:"text-right",attrs:{cols:"12"}},[t(i.Z,{attrs:{color:"primary","min-width":"150"},on:{click:e.editProfile}},[e._v(" Atualizar Perfil ")])],1)],1)],1)],1)],1)],1)],1)],1):e._e()},u=[],h=(s(7658),s(594)),v={name:"UserProfileView",data:()=>({erroCep:!1,showUpdate:!1,showProfileUpdate:!1,showError:!1,originalImg:"",profilePic:window.localStorage.img,logado:window.localStorage.logado,icon:[{text:"mdi-camera"}],items:{emplogradouro:"",empestado:"",empcidade:"",empid:window.localStorage.empid,empcnpj:window.localStorage.empcnpj,empcpf:window.localStorage.empcpf,empcep:window.localStorage.empcep,empnum:window.localStorage.empnum,empcontato:window.localStorage.empcontato,emptipo:window.localStorage.emptipo,razaosocial:window.localStorage.razaosocial}}),computed:{rulesCEP(){const e=[],t=!1===this.erroCep&&8===this.items.empcep.length||"CEP inválido";return e.push(t),e}},watch:{items:{handler(){window.localStorage.empcontato=this.items.empcontato,window.localStorage.empcep=this.items.empcep,window.localStorage.empnum=this.items.empnum},deep:!0}},beforeMount(){this.preencherCep()},methods:{getCep(e){return h.Z.get(`https://viacep.com.br/ws/${e}/json/`)},preencherCep(){const e=this.items.empcep.replace(/\D/g,"");8===e.length&&this.getCep(e).then((e=>{this.items.emplogradouro=e.data.logradouro,this.items.empestado=e.data.uf,this.items.empcidade=e.data.localidade,"erro"in e.data?this.erroCep=!0:this.erroCep=!1}))},editProfile(){h.Z.put(`https://sheetdb.io/api/v1/8nmjdq4kt9z0x/EMPRESAIDPK/${this.items.empid}`,{data:{EMPRESACONTATO:`${this.items.empcontato}`,EMPRESANUM:`${this.items.empnum}`,EMPRESACEP:`${this.items.empcep}`}}).then((e=>{200===e.status||201===e.status?(this.showUpdate=!this.showUpdate,setTimeout((()=>{this.showUpdate=!this.showUpdate}),3500)):(this.showError=!this.showError,setTimeout((()=>{this.showError=!this.showError}),3500))}))}}},g=v,b=s(1001),f=(0,b.Z)(g,p,u,!1,null,"d4f5d606",null),C=f.exports},4568:function(e,t,s){s.d(t,{Z:function(){return m}});var o=s(2925),i=s(1903),r=s(1012),a=s(6470),l=s(3276),n=s(3599),c=s(4987),d=s(6596),m=(0,c.Z)(o.Z,a.Z,n.Z).extend({name:"v-alert",props:{border:{type:String,validator(e){return["top","right","bottom","left"].includes(e)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator(e){return"string"===typeof e||!1===e}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator(e){return["info","error","success","warning"].includes(e)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder(){if(!this.border)return null;let e={staticClass:"v-alert__border",class:{[`v-alert__border--${this.border}`]:!0}};return this.coloredBorder&&(e=this.setBackgroundColor(this.computedColor,e),e.class["v-alert__border--has-color"]=!0),this.$createElement("div",e)},__cachedDismissible(){if(!this.dismissible)return null;const e=this.iconColor;return this.$createElement(i.Z,{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:()=>this.isActive=!1}},[this.$createElement(r.Z,{props:{color:e}},this.closeIcon)])},__cachedIcon(){return this.computedIcon?this.$createElement(r.Z,{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes(){const e={...o.Z.options.computed.classes.call(this),"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text};return this.border&&(e[`v-alert--border-${this.border}`]=!0),e},computedColor(){return this.color||this.type},computedIcon(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&`$${this.type}`)},hasColoredIcon(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText(){return this.text||this.outlined},iconColor(){return this.hasColoredIcon?this.computedColor:void 0},isDark(){return!(!this.type||this.coloredBorder||this.outlined)||l.Z.options.computed.isDark.call(this)}},created(){this.$attrs.hasOwnProperty("outline")&&(0,d.fK)("outline","outlined",this)},methods:{genWrapper(){const e=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],t={staticClass:"v-alert__wrapper"};return this.$createElement("div",t,e)},genContent(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert(){let e={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){const t=this.hasText?this.setTextColor:this.setBackgroundColor;e=t(this.computedColor,e)}return this.$createElement("div",e,[this.genWrapper()])},toggle(){this.isActive=!this.isActive}},render(e){const t=this.genAlert();return this.transition?e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[t]):t}})},8236:function(e,t,s){s.d(t,{Z:function(){return l}});s(7658);var o=s(8914),i=s(3276),r=s(6470),a=s(4987),l=(0,a.Z)(o.Z,i.Z,r.Z).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim(){const e=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",e)},classes(){return{"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive,...this.themeClasses}},computedOpacity(){return Number(this.isActive?this.opacity:0)},styles(){return{zIndex:this.zIndex}}},methods:{genContent(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render(e){const t=[this.__scrim];return this.isActive&&t.push(this.genContent()),e("div",{staticClass:"v-overlay",on:this.$listeners,class:this.classes,style:this.styles},t)}})},3939:function(e,t,s){var o=s(144);function i(e="value",t="change"){return o.ZP.extend({name:"proxyable",model:{prop:e,event:t},props:{[e]:{required:!1}},data(){return{internalLazyValue:this[e]}},computed:{internalValue:{get(){return this.internalLazyValue},set(e){e!==this.internalLazyValue&&(this.internalLazyValue=e,this.$emit(t,e))}}},watch:{[e](e){this.internalLazyValue=e}}})}const r=i();t["Z"]=r},3599:function(e,t,s){var o=s(144);t["Z"]=o.ZP.extend({name:"transitionable",props:{mode:String,origin:String,transition:String}})}}]);
//# sourceMappingURL=views-CompanyProfile.739e4ded.js.map