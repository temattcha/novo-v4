{"version":3,"file":"js/views-FinancialReportStaff.e67c3f1c.js","mappings":"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","sources":["webpack://nvs-v4/./src/views/FinancialReportStaff.vue","webpack://nvs-v4/src/views/FinancialReportStaff.vue","webpack://nvs-v4/./src/views/FinancialReportStaff.vue?e266","webpack://nvs-v4/./src/views/FinancialReportStaff.vue?166f"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"650\"}},[_c('v-form',[_c('v-card-title',[_c('span',{staticClass:\"text-h4 text-md-h3\"},[_vm._v(\"Relatório de Lançamentos\")])]),_c('v-card-text',[_c('v-container',[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"12\"}},[_c('v-autocomplete',{staticClass:\"grey-label\",attrs:{\"items\":_vm.companies,\"color\":\"blue\",\"outlined\":\"\",\"hide-details\":\"\",\"label\":\"Empresa\",\"prepend-icon\":\"mdi-office-building-outline\",\"item-text\":\"EMPRESA\",\"item-value\":\"EMPRESA\"},scopedSlots:_vm._u([{key:\"no-data\",fn:function(){return [_c('v-list-item',[_c('v-list-item-title',[_vm._v(\" Nenhum item encontrado \"),_c('br'),_c('br'),_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"color\":\"blue\"}})],1)],1)]},proxy:true}]),model:{value:(_vm.company),callback:function ($$v) {_vm.company=$$v},expression:\"company\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-select',{staticClass:\"grey-label\",attrs:{\"color\":\"blue\",\"hide-details\":\"\",\"items\":_vm.aetStates,\"prepend-icon\":\"mdi-map-marker-outline\",\"label\":\"Estado\",\"placeholder\":\"Selecione\",\"outlined\":\"\"},model:{value:(_vm.aetState),callback:function ($$v) {_vm.aetState=$$v},expression:\"aetState\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-select',{staticClass:\"grey-label\",attrs:{\"color\":\"blue\",\"prepend-icon\":\"mdi-list-status\",\"hide-details\":\"\",\"multiple\":\"\",\"items\":_vm.statuses,\"label\":\"Status\",\"placeholder\":\"Selecione\",\"outlined\":\"\"},model:{value:(_vm.aetStatus),callback:function ($$v) {_vm.aetStatus=$$v},expression:\"aetStatus\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-text-field',{staticClass:\"my-0 ms-2 pa-0\",attrs:{\"readonly\":\"\",\"outlined\":\"\",\"hide-details\":\"\",\"max-width\":\"100\",\"label\":\"Início\"},model:{value:(_vm.computedDateFormatted1),callback:function ($$v) {_vm.computedDateFormatted1=$$v},expression:\"computedDateFormatted1\"}}),_c('v-date-picker',{staticClass:\"ma-0 pa-0 mx-auto\",attrs:{\"color\":\"amber\",\"locale\":\"pt-BR\",\"no-title\":\"\"},model:{value:(_vm.date1),callback:function ($$v) {_vm.date1=$$v},expression:\"date1\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-text-field',{staticClass:\"my-0 ms-2 pa-0\",attrs:{\"readonly\":\"\",\"outlined\":\"\",\"hide-details\":\"\",\"max-width\":\"100\",\"label\":\"Final\"},model:{value:(_vm.computedDateFormatted2),callback:function ($$v) {_vm.computedDateFormatted2=$$v},expression:\"computedDateFormatted2\"}}),_c('v-date-picker',{staticClass:\"ma-0 pa-0 mx-auto\",attrs:{\"color\":\"amber\",\"locale\":\"pt-BR\",\"no-title\":\"\"},model:{value:(_vm.date2),callback:function ($$v) {_vm.date2=$$v},expression:\"date2\"}})],1)],1)],1)],1),_c('v-card-actions',{staticClass:\"mt-n10 px-10 py-5\"},[_c('v-btn',{attrs:{\"fab\":\"\",\"small\":\"\",\"disabled\":!_vm.licences,\"loading\":_vm.loading2},on:{\"click\":function($event){return _vm.downloadPDF()}}},[_c('v-icon',{attrs:{\"dark\":\"\",\"color\":\"red darken-2\"}},[_vm._v(\" mdi-file-pdf-box \")])],1),_c('v-btn',{attrs:{\"fab\":\"\",\"small\":\"\",\"disabled\":!_vm.licences,\"loading\":_vm.loading3},on:{\"click\":function($event){return _vm.downloadXLSX('xlsx')}}},[_c('v-icon',{attrs:{\"dark\":\"\",\"color\":\"green darken-2\"}},[_vm._v(\" mdi-microsoft-excel \")])],1),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-3 white--text\",\"loading\":_vm.loading},on:{\"click\":function($event){_vm.generateReport(), _vm.loading = true}}},[_vm._v(\" Gerar Relatório \")])],1)],1)],1)],1)],1),_c('v-row',[(_vm.showReport === true)?_c('v-container',[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.licences,\"footer-props\":{ itemsPerPageOptions: [5, 10, -1] }}})],1):_vm._e()],1)],1),_c('vue-html2pdf',{ref:\"html2Pdf\",attrs:{\"show-layout\":false,\"enable-download\":true,\"manual-pagination\":false,\"paginate-elements-by-height\":14001,\"filename\":_vm.reportName,\"pdf-quality\":2,\"pdf-format\":\"a4\",\"pdf-orientation\":\"landscape\",\"pdf-content-width\":\"100%\"},on:{\"startPagination\":function($event){_vm.loading2 = true},\"hasDownloaded\":function($event){_vm.loading2 = false}}},[_c('section',{attrs:{\"slot\":\"pdf-content\"},slot:\"pdf-content\"},[(_vm.showReport === true)?_c('v-container',[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.licences,\"footer-props\":{ itemsPerPageOptions: [-1] }}})],1):_vm._e()],1)]),_c('table',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"exportableTable\"},[_c('tr',_vm._l((_vm.headers),function(header,idx){return _c('th',{key:'header' + idx},[_vm._v(\" \"+_vm._s(header.text)+\" \")])}),0),_vm._l((_vm.licences),function(licence,idx){return _c('tr',{key:'data' + idx},[_c('td',[_vm._v(_vm._s(licence.ID))]),_c('td',[_vm._v(_vm._s(_vm.usDate(licence.DATA)))]),_c('td',[_vm._v(_vm._s(licence.SOLICITANTE))]),_c('td',[_vm._v(_vm._s(licence.EMPRESA))]),_c('td',[_vm._v(_vm._s(licence.ESTADO))]),_c('td',[_vm._v(_vm._s(licence.PLACA))]),_c('td',[_vm._v(_vm._s(licence.NUMTAXA))])])})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-container>\n      <v-row>\n        <v-col\n          cols=\"12\"\n        >\n          <v-card\n            class=\"mx-auto\"\n            max-width=\"650\"\n          >\n            <v-form>\n              <v-card-title>\n                <span class=\"text-h4 text-md-h3\">Relatório de Lançamentos</span>\n              </v-card-title>\n\n              <v-card-text>\n                <v-container>\n                  <v-row justify=\"center\">\n                    <v-col\n                      cols=\"12\"\n                      sm=\"6\"\n                      md=\"12\"\n                    >\n                      <v-autocomplete\n                        v-model=\"company\"\n                        :items=\"companies\"\n                        color=\"blue\"\n                        class=\"grey-label\"\n                        outlined\n                        hide-details\n                        label=\"Empresa\"\n                        prepend-icon=\"mdi-office-building-outline\"\n                        item-text=\"EMPRESA\"\n                        item-value=\"EMPRESA\"\n                      >\n                        <template v-slot:no-data>\n                          <v-list-item>\n                            <v-list-item-title>\n                              Nenhum item encontrado\n                              <br><br>\n                              <v-progress-linear\n                                indeterminate\n                                color=\"blue\"\n                              />\n                            </v-list-item-title>\n                          </v-list-item>\n                        </template>\n                      </v-autocomplete>\n                    </v-col>\n                    <v-col\n                      cols=\"12\"\n                      md=\"6\"\n                    >\n                      <v-select\n                        v-model=\"aetState\"\n                        color=\"blue\"\n                        class=\"grey-label\"\n                        hide-details\n                        :items=\"aetStates\"\n                        prepend-icon=\"mdi-map-marker-outline\"\n                        label=\"Estado\"\n                        placeholder=\"Selecione\"\n                        outlined\n                      />\n                    </v-col>\n                    <v-col\n                      cols=\"12\"\n                      md=\"6\"\n                    >\n                      <v-select\n                        v-model=\"aetStatus\"\n                        color=\"blue\"\n                        class=\"grey-label\"\n                        prepend-icon=\"mdi-list-status\"\n                        hide-details\n                        multiple\n                        :items=\"statuses\"\n                        label=\"Status\"\n                        placeholder=\"Selecione\"\n                        outlined\n                      />\n                    </v-col>\n                    <v-col\n                      cols=\"12\"\n                      sm=\"6\"\n                    >\n                      <v-text-field\n                        v-model=\"computedDateFormatted1\"\n                        readonly\n                        outlined\n                        hide-details\n                        max-width=\"100\"\n                        label=\"Início\"\n                        class=\"my-0 ms-2 pa-0\"\n                      />\n                      <v-date-picker\n                        v-model=\"date1\"\n                        color=\"amber\"\n                        locale=\"pt-BR\"\n                        no-title\n                        class=\"ma-0 pa-0 mx-auto\"\n                      />\n                    </v-col>\n                    <v-col\n                      cols=\"12\"\n                      sm=\"6\"\n                    >\n                      <v-text-field\n                        v-model=\"computedDateFormatted2\"\n                        readonly\n                        outlined\n                        hide-details\n                        max-width=\"100\"\n                        label=\"Final\"\n                        class=\"my-0 ms-2 pa-0\"\n                      />\n                      <v-date-picker\n                        v-model=\"date2\"\n                        color=\"amber\"\n                        locale=\"pt-BR\"\n                        no-title\n                        class=\"ma-0 pa-0 mx-auto\"\n                      />\n                    </v-col>\n                  </v-row>\n                </v-container>\n              </v-card-text>\n\n              <v-card-actions class=\"mt-n10 px-10 py-5\">\n                <v-btn\n                  fab\n                  small\n                  :disabled=\"!licences\"\n                  :loading=\"loading2\"\n                  @click=\"downloadPDF()\"\n                >\n                  <v-icon\n                    dark\n                    color=\"red darken-2\"\n                  >\n                    mdi-file-pdf-box\n                  </v-icon>\n                </v-btn>\n                <v-btn\n                  fab\n                  small\n                  :disabled=\"!licences\"\n                  :loading=\"loading3\"\n                  @click=\"downloadXLSX('xlsx')\"\n                >\n                  <v-icon\n                    dark\n                    color=\"green darken-2\"\n                  >\n                    mdi-microsoft-excel\n                  </v-icon>\n                </v-btn>\n                <v-spacer />\n                <v-btn\n                  color=\"blue darken-3 white--text\"\n                  :loading=\"loading\"\n                  @click=\"generateReport(), loading = true\"\n                >\n                  Gerar Relatório\n                </v-btn>\n              </v-card-actions>\n            </v-form>\n          </v-card>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-container v-if=\"showReport === true\">\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"licences\"\n            :footer-props=\"{ itemsPerPageOptions: [5, 10, -1] }\"\n          />\n        </v-container>\n      </v-row>\n    </v-container>\n    <vue-html2pdf\n      :show-layout=\"false\"\n      :enable-download=\"true\"\n      :manual-pagination=\"false\"\n      :paginate-elements-by-height=\"14001\"\n      :filename=\"reportName\"\n      :pdf-quality=\"2\"\n      pdf-format=\"a4\"\n      pdf-orientation=\"landscape\"\n      pdf-content-width=\"100%\"\n      @startPagination=\"loading2 = true\"\n      @hasDownloaded=\"loading2 = false\"\n      ref=\"html2Pdf\"\n    >\n      <section slot=\"pdf-content\">\n        <v-container v-if=\"showReport === true\">\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"licences\"\n            :footer-props=\"{ itemsPerPageOptions: [-1] }\"\n          />\n        </v-container>\n      </section>\n    </vue-html2pdf>\n    <table\n      v-show=\"false\"\n      ref=\"exportableTable\"\n    >\n      <tr>\n        <th\n          v-for=\"(header, idx) in headers\"\n          :key=\"'header' + idx\"\n        >\n          {{ header.text }}\n        </th>\n      </tr>\n      <tr\n        v-for=\"(licence, idx) in licences\"\n        :key=\"'data' + idx\"\n      >\n        <td>{{ licence.ID }}</td>\n        <td>{{ usDate(licence.DATA) }}</td>\n        <td>{{ licence.SOLICITANTE }}</td>\n        <td>{{ licence.EMPRESA }}</td>\n        <td>{{ licence.ESTADO }}</td>\n        <td>{{ licence.PLACA }}</td>\n        <td>{{ licence.NUMTAXA }}</td>\n      </tr>\n    </table>\n  </div>\n</template>\n\n<script>\n  import axios from 'axios'\n  import VueHtml2pdf from 'vue-html2pdf'\n  import * as XLSX from 'xlsx/xlsx.mjs'\n\n  export default {\n    name: 'FinancialReportStaff',\n\n    components: {\n      VueHtml2pdf\n    },\n\n    data: () => ({\n      company: '',\n      aetState: '',\n      plate: '',\n      aetStatus: '',\n      table: '',\n      dateFormatted: '',\n      reportName: '',\n      showReport: false,\n      licences: null,\n      loading: false,\n      loading2: false,\n      loading3: false,\n      date1: new Date(new Date().getFullYear(), new Date().getMonth(), 1).toISOString().substr(0, 10), // first day of the month\n      date2: (new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10), // today\n      companies: [],\n      aetStates: [\n        { value: '', text: 'Selecione'},\n        { value: 'FEDERAL', text: 'FEDERAL' },\n        { value: 'BA', text: 'Bahia' },\n        { value: 'GO', text: 'Goiás' },\n        { value: 'MG', text: 'Minas Gerais' },\n        { value: 'MS', text: 'Mato Grosso do Sul' },\n        { value: 'PE', text: 'Pernambuco' },\n        { value: 'PR', text: 'Paraná' },\n        { value: 'RJ', text: 'Rio de Janiero' },\n        { value: 'RS', text: 'Rio Grande do Sul' },\n        { value: 'SC', text: 'Santa Catarina' },\n        { value: 'SP', text: 'São Paulo' },\n        { value: 'TO', text: 'Tocantins' },\n        { value: 'AC', text: 'Acre' },\n        { value: 'AL', text: 'Alagoas' },\n        { value: 'AM', text: 'Amazonas' },\n        { value: 'AP', text: 'Amapá' },\n        { value: 'CE', text: 'Ceará' },\n        { value: 'DF', text: 'Distrito Federal' },\n        { value: 'ES', text: 'Espirito Santo' },\n        { value: 'MA', text: 'Maranhão' },\n        { value: 'MT', text: 'Mato Grosso' },\n        { value: 'PA', text: 'Pará' },\n        { value: 'PB', text: 'Paraíba' },\n        { value: 'PI', text: 'Piauí' },\n        { value: 'RN', text: 'Rio Grande do Norte' },\n        { value: 'RO', text: 'Rondônia' },\n        { value: 'RR', text: 'Roraima' },\n        { value: 'SE', text: 'Sergipe' },\n      ],\n      headers: [\n        { text: 'ID', value: 'ID' },\n        { text: 'Data', value: 'DATA' },\n        { text: 'Status', value: 'SOLICITANTE' },\n        { text: 'Empresa', value: 'EMPRESA' },\n        { text: 'Placa', value: 'PLACA' },\n        { text: 'UF', value: 'ESTADO' },\n        { text: 'Taxa', value: 'NUMTAXA' },\n      ],\n      statuses: [\n        'TAXA',\n        'Não Saiu Nada',\n        'Emitido',\n      ]\n    }),\n\n    computed: {\n      computedDateFormatted1 () {\n        return this.formatDate(this.date1)\n      },\n      computedDateFormatted2 () {\n        return this.formatDate(this.date2)\n      },\n    },\n\n    watch: {\n      company () {\n        let plate = this.companies.filter(item => (item.EMPRESA === this.company))\n        this.plates = plate\n\n        return this.plates\n      },\n      date1 () {\n        this.dateFormatted = this.formatDate(this.date1)\n      },\n      date2 () {\n        this.dateFormatted = this.formatDate(this.date2)\n      },\n      licences () {\n        return this.reportName = 'Relatório NVS ' + this.date2\n      },\n    },\n\n    created() {\n      this.fetchCompanies()\n    },\n\n    methods: {\n      fetchCompanies () {\n        return fetch('https://sheetdb.io/api/v1/afxq0nl1f0gvg')\n          .then((r) => r.json())\n          .then((r) => {\n            this.companies = r\n          })\n      },\n      formatDate (date) {\n        if (!date) return null\n        var [year, month, day] = date.split('-')\n        return `${day.padStart(2, '0')}/${month.padStart(2, '0')}/${year}`\n      },\n      parseDate (date) {\n        if (!date) return null\n        const [day, month, year] = date.split('/')\n        return `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`\n      },\n      usDate (date) {\n        if (!date) return null\n        const [day, month, year] = date.split('/')\n        var secs = '00:00:28'\n        return `${month.padStart(2, '0')}/${day.padStart(2, '0')}/${year} ${secs}`\n      },\n      fetchLicences () {\n        return axios.get('https://sheetdb.io/api/v1/afxq0nl1f0gvg')\n      },\n      generateReport () {\n        this.fetchLicences().then((r) => {\n          var table = r.data\n\n          this.$nextTick(() => {\n            var totalResult = ''\n            var totalResult1 = ''\n            var totalResult2 = ''\n            var totalResult3 = ''\n            totalResult = table.filter(item =>\n              item.EMPRESA.includes(this.company) &&\n              item.PLACA.includes(this.plate) &&\n              item.ESTADO.includes(this.aetState) &&\n              item.STATUS.includes(this.status) &&\n              this.parseDate(item.DATA).replace(/-/g, '') >= this.date1.replace(/-/g, '') &&\n              this.parseDate(item.DATA).replace(/-/g, '') <= this.date2.replace(/-/g, '')\n            )\n            totalResult1 = table.filter(item =>\n              item.EMPRESA.includes(this.company) &&\n              item.PLACA.includes(this.plate) &&\n              item.ESTADO.includes(this.aetState) &&\n              item.STATUS.includes(this.status[0]) &&\n              this.parseDate(item.DATA).replace(/-/g, '') >= this.date1.replace(/-/g, '') &&\n              this.parseDate(item.DATA).replace(/-/g, '') <= this.date2.replace(/-/g, '')\n            )\n            totalResult2 = table.filter(item =>\n              item.EMPRESA.includes(this.company) &&\n              item.PLACA.includes(this.plate) &&\n              item.ESTADO.includes(this.aetState) &&\n              item.STATUS.includes(this.status[1]) &&\n              this.parseDate(item.DATA).replace(/-/g, '') >= this.date1.replace(/-/g, '') &&\n              this.parseDate(item.DATA).replace(/-/g, '') <= this.date2.replace(/-/g, '')\n            )\n            totalResult3 = table.filter(item =>\n              item.EMPRESA.includes(this.company) &&\n              item.PLACA.includes(this.plate) &&\n              item.ESTADO.includes(this.aetState) &&\n              item.STATUS.includes(this.status[2]) &&\n              this.parseDate(item.DATA).replace(/-/g, '') >= this.date1.replace(/-/g, '') &&\n              this.parseDate(item.DATA).replace(/-/g, '') <= this.date2.replace(/-/g, '')\n            )\n\n            this.status.length === 0 ? this.licences = totalResult : this.licences = totalResult1.concat(totalResult2).concat(totalResult3)\n\n            this.showReport = true\n            this.loading = false\n          })\n        })\n      },\n      downloadPDF () {\n        this.$refs.html2Pdf.generatePdf()\n      },\n      downloadXLSX (type, fn, dl) {\n        var el = this.$refs.exportableTable\n        var wb = XLSX.utils.table_to_book(el, {sheet:'Relatório'})\n        this.loading3 = true\n        setTimeout(() => {\n          this.loading3 = false\n          return dl ?\n            XLSX.write(wb, {bookType: type, bookSTT: true, type: 'string'}) :\n            XLSX.writeFile(wb, fn || (this.reportName + '.' +  (type || 'xlsx')))\n        }, 100)\n      },\n    },\n  }\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FinancialReportStaff.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FinancialReportStaff.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FinancialReportStaff.vue?vue&type=template&id=bde4bd24&\"\nimport script from \"./FinancialReportStaff.vue?vue&type=script&lang=js&\"\nexport * from \"./FinancialReportStaff.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["staticClass","_vm","scopedSlots","fn","attrs","model","value","company","callback","expression","_c","aetStatus","computedDateFormatted1","date1","computedDateFormatted2","date2","loading","generateReport","itemsPerPageOptions","on","loading2","$event","slot","headers","licences","directives","name","rawName","ref","licence","idx","key","components","VueHtml2pdf","data","aetState","plate","table","dateFormatted","reportName","showReport","loading3","companies","aetStates","text","statuses","computed","watch","created","methods","fetchCompanies","then","formatDate","parseDate","usDate","fetchLicences","totalResult","item","totalResult1","totalResult2","totalResult3","downloadPDF","downloadXLSX","sheet","setTimeout","XLSX","bookType","bookSTT","type","component","render","staticRenderFns"],"sourceRoot":""}